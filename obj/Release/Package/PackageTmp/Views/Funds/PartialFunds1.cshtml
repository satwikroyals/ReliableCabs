@model ReliableCabs.Models.CashCollectedModel


 <div class="col-sm-12" style=" padding-left:3%">
 <div class="white-box1" >
  <table id="table_id" class="tablesaw table-striped table-hover table-bordered table">
    <thead>
        <tr style="background-color:#87CEEB">
            <th>CashAmountId</th>
            <th>CASH AMOUNT</th>
            <th>REF No.</th>
            <th>TRANSACTION DATE</th>
            <th></th>
         
        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            foreach (var item in Model.ListCashcollected)
            {
   
        <tr>
            <td>@item.CashAmountId</td>
            <td>@item.CashAmount</td>
            <td>@item.RefNo</td>
            <td>@Convert.ToDateTime(item.CreatedDate).ToString("dd/MM/yyyy")</td>
            <td><button class="btn_delete1" onclick="btndelete(@item.CashAmountId)" title="Delete"><i class="fa fa-trash"></i></button></td>
          @* <button class="btn_delete1" title="Edit"><i class="fa fa-edit" style="font-size:12px"></i></button></td>*@
        </tr>
            }
        }
      
      
                 
        </tbody>
</table>
    
          </div>           
</div>


@*<div class="container">
    <div class ="container .box .box-cell.box2" style="padding-left:20%">
        <table>
            <tr>
            <td>
                <h3 style="color:darkblue"><b>DEBIT TRANSACTION DETIALS</b></h3>
            </td>
            </tr>
        </table>
 </div>
   </div>*@

 <div class="col-sm-12" style=" padding-left:1%">
 <div class="white-box1" >
     <div>
  <table id="table_id1" class="tablesaw table-striped table-hover table-bordered table">
    <thead>
          

        <tr style="background-color:#87CEEB">
            <th>SubTransId</th>
            <th>Name</th>
             @if (Model.ListCashReturnDetails != null && Model.ListCashReturnDetails.Count > 0)
             {
            <th>Cash Amount <br />Total : @Model.ListCashReturnDetails.FirstOrDefault().TotalCashAmount</th>
             }
             else
             {
                  <th>Cash Amount </th>
             }
            <th>TRANSACTION DATE</th>        
        </tr>
           
    </thead>
    <tbody>
        @if (Model != null)
        {

            foreach (var item in Model.ListCashReturnDetails)
            {
   
        <tr>
            <td>@item.subtransid</td>
             <td>@item.Name</td>
            <td>@item.CashAmount</td>
            <td>@Convert.ToDateTime(item.CreatedDate).ToString("dd/MM/yyyy")</td>
        </tr>
            }

        }   
          @* <tr>
               
               <td colspan="2">Total Cash</td>
               <td colspan="2" >@Model.ListCashReturnDetails.FirstOrDefault().TotalCashAmount</td>
               
           </tr>*@
                   
        </tbody>
</table>
    </div>
          </div>           

</div>


@section scripts
{

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
   <script src=" https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"></script>
    <script src="~/Content/plugins/components/datatables/jquery.dataTables.min.js"></script>

    <script>
        $(document).ready(function () { 
       $('#table_id').DataTable({
                responsive: true,
                "order": [[0, "desc"]],

                columnDefs: [{
                    targets: [1],
                    render: $.fn.dataTable.render.number(',', '.', 2)
                }]
            });

            //$("#txtdummy").on("click", function () {

                $('#table_id1').DataTable({
                    responsive: true,
                    async: false,
                    "order": [[0, "desc"]],


                    columnDefs: [{
                        targets: [2],
                        render: $.fn.dataTable.render.number(',', '.', 2)
                    }]
                });

        });

        function btndelete(CashAmountid) {

            var r = confirm("Are you sure to delete this row.");
            if (r == true) {
                var cashAmountid = CashAmountid;
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("DeleteCash", "Funds")',
                    data:
               {
                   cashAmountid: CashAmountid,

               },
                    success: function (r) {
                        alert("Successfully Deleted");
                        window.location.href = "../Funds/Index"

                    }
                });
            }
        }

</script>
          
}