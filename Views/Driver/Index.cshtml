@model IEnumerable<ReliableCabs.Models.ViewModel>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/LayoutHeader.cshtml";
}

<div class="container">
    <div class ="container .box .box-cell.box4" style="padding-left:30%">
        <table>
            <tr>
            <td>
                <h3 style="color:darkblue"><b>DRIVER DETAILS</b></h3>
            </td>
            <td style="padding-left:50%">
    <a href='../Driver/InsertDriverDetails' class="btn btn-info " style="padding-left:10%"> Add Driver Details</a> 

            </td>
             </tr>
        </table>
 </div>

   </div>

  <div class="row" style="padding-top:1%">

      <div class="col-sm-12" style=" padding-left:2%">
 <div class="white-box" >
  <table id="table_id" class="tablesaw table-striped table-hover table-bordered table">
    <thead>
        <tr style="background-color:#87CEEB">
            <th>Client Id</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Mobile</th>
             <th>Email</th>
             <th>Driver Licence No</th>
             <th>Bank Details </th>
             <th>Sim Number</th>
             <th>Name PlateNumber</th>
            <th >Terminal</th>
             <th >Status</th>
            <th ></th>
             <th  hidden></th>

   
        </tr>
    </thead>
    <tbody>
      
        @foreach (var item in Model)
        {
   
        <tr>
            <td>@item.client.ClientId</td>
            <td>@item.client.FirstName</td>
            <td>@item.client.LastName</td>
            <td>@item.client.Mobile</td>
            <td >@item.client.Email</td>
            <td>@item.client.DriverLicenceNo</td>
            <td>@item.client.BankDetails</td>
            <td>@item.client.SimNumber</td>
            <td>@item.client.NamePlateNumber</td>
             <td>@item.subscription.Terminal</td>
             <td>@item.status.Status1</td>
          
            <td style="width:100px">@*<button type="button" id="btnEdit" class="btnTrans" onclick="getdata(@item.ClientId)" >Edit</button>*@
              @*  <button type="button" id="btnDelete" class="btnTrans" onclick="deletedata(@item.ClientId)" >Delete</button>*@
                 <button class="btn_delete1" onclick="getdata(@item.client.ClientId)" title="Edit"><i class="fa fa-edit"></i></button>
                 <button class="btn_delete1" onclick="deletedata(@item.client.ClientId)" title="Delete"><i class="fa fa-trash"></i></button>
            </td>
            @* <td id="NetAmount" hidden>@Convert.ToDecimal(Model.ListFundsDetails.FirstOrDefault().NetAmount).ToString("0.00")</td>*@
             <td id="NetAmount" hidden>@ViewBag.NetAmount.ToString("0.00")</td>
          
             
             
        </tr>
           
    }
      
      
                 
        </tbody>
</table>
    
          </div>           

</div>

 </div>

@section scripts
{
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
   @* <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>*@
    <script src=" https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"></script>
    <script src="~/Content/plugins/components/datatables/jquery.dataTables.min.js"></script>
  
    <script>
        $(document).ready(function () {
            document.getElementById('Pendingamtnew').value = $("#NetAmount").text();
            //$("#ListAll").hide();
            datatabltInitialize();
        });

 

        function datatabltInitialize() {
            $('#table_id').DataTable({
                responsive: true,
                "oLanguage": {
                    "sSearch": "<b>Search :</b> "
                },


                columnDefs: [{
                    "width": "40px", "targets": [4],
                     "width": "40px", "targets": [5] 
                    //targets: [4, 5, 6, 7, 8, 9],
                    //render: $.fn.dataTable.render.number(',', '.', 2)
                }]
            });
            $('.dataTables_filter input[type="search"]').

  css({ 'width': '250px', 'height': '40px', 'background-color': '#e5ebec', 'align': 'right', 'display': 'inline-block', "position": "right", "left": "-100px" });

        }

    
     
        function getdata(ClientId) {
            var ClientId = ClientId;
            window.location.href = "@Url.Action("GetDriverDetails", "Driver")?ClientId=" + ClientId;

        }

        function deletedata(ClientId) {
            var ClientId = ClientId;
            //alert('Are you sure to delete row');
            @*   window.location.href = "@Url.Action("DeleteDriverDetails", "Driver")?ClientId=" + ClientId;*@
            $.ajax({
                type: "POST",
                url: "/Driver/DeleteDriverDetails",
                data: {
                    ClientId : ClientId

                },
                success: function (data) {
                    alert("Deleted Successfully");
                    window.location.href = "../Driver/Index"
                },

                error: function (jqXHR, status, text) {
                    alert("Not Submitted ");
                }

            });

        }

</script>
    }