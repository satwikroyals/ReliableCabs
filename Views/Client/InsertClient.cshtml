@model ReliableCabs.Models.ClientModel

@{
    ViewBag.Title = "InsertClient";
    Layout = "~/Views/Shared/LayoutHeader.cshtml";
}

<div class="row">

<div id="body">
  @*  <a href='../Client/Index' class="btn btn-info "> Back To Client List </a> *@
 <div id="ProdPartials">
   

 <div class="col-sm-10" style=" padding-left:20%">
 <div class="white-box" >


 <table class="tablesaw table-striped table-hover table-bordered table" data-tablesaw-mode="columntoggle">
                                <thead>
                                    <tr style="background-color:lightgray">
                                        <th style="text-align:center; font-size: 18px;" colspan="2" scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Insert Driver Details</th>
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                   <tr>
                                        <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">First Name</th>
                                     <td ><input type="text" id="txtName"  style="border-style:none;background-color:transparent"  title="Enter First Name" onchange="FirstNameCheck()" />  </td>
                                    </tr>
                                    <tr>
                                        <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Last Name</th>
                                     <td ><input type="text" id="txtLName"  style="border-style:none;background-color:transparent"  title="Enter Last Name" />  </td>
                                    </tr>

                                                                              
                                      <tr>
                                        <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Mobile</th>
                                         <td > <input type="text" id="txtMobile"  title="Enter Mobile Number"  style="border-style:none;background-color:transparent" onchange="MobileCheck()" /></td>
                                     <p id="statusmobile"></p>
                                      </tr>

                                      <tr>
                                        <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Email</th>
                                     <td ><input type="text" id="txtEmail"  style="border-style:none;background-color:transparent"  title="Enter Email Account" />  </td>
                                    </tr>
                                     <tr>
                                        <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Licence No.</th>
                                         <td > <input type="text" id="txtDLNo"  title="Enter Driver Licence Number"  style="border-style:none;background-color:transparent" /></td>

                                     </tr>
                                         <tr>
                                        <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Physical Address</th>
                                         <td > <input type="text" id="txtAddress"  title="Enter Address"  style="border-style:none;background-color:transparent" /></td>

                                     </tr>
                                     </tr>
                                         <tr>
                                        <th scope="col" data-tablesaw-sortable-col data-tablesaw-priority="persist">Other Information</th>
                                         <td > <input type="text" id="txtOther"  title="Enter Other Information"  style="border-style:none;background-color:transparent" /></td>

                                     </tr>

                                </tbody>
   
 </table>

  <div style="width:100px">
    <button class="btn btn-block btn-danger"  onclick="btnClick()"  id="btnAdd">Submit</button>
</div>
</div>
</div>
             </div>
             </div>
 </div>


<script src="~/Content/js/jquery-2.2.0.min.js"></script>
<script>

    function MobileCheck() {
        $("#statusmobile").html('<font color="red"> </font>');
        $.post("@Url.Action("MobileCheckAvailability","client")",
            {userdata:$("#txtMobile").val()},
        function(data){
            if (data != 0) {
                $("#statusmobile").html('<font color="red"> Already Mobile existing .Try Another</font>');
            }
            else {
                $("#statusmobile").html();
            }
        });
    }

    function btnClick() {
        var txtName = document.getElementById('txtName').value;
        var txtLName = document.getElementById('txtLName').value;
        var txtMobile = document.getElementById('txtMobile').value;
        var txtEmail = document.getElementById('txtEmail').value;
        var txtDLNo = document.getElementById('txtDLNo').value;
        var txtAddress = document.getElementById('txtAddress').value;
        var txtOther = document.getElementById('txtOther').value;

        $.ajax({
            type: "POST",
            url: "/Client/InsertClient",
            data: {
                FirstName: txtName,
                LastName: txtLName,
                Mobile: txtMobile,
                Email: txtEmail,
                DriverLicenceNo: txtDLNo,
                PhysicalAddress: txtAddress,
                OtherInfo: txtOther

            },
            success: function (data) {
                alert("Submitted");
                window.location.href = "../Client/Index"
                
            },

            error: function (jqXHR, status, text) {
                alert("Not Submitted ");
            }

        });
    }
        </script>